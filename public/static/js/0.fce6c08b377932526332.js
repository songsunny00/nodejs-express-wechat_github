webpackJsonp([0],{"0IsO":function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.list-container .content-warp .box-card[data-v-199649fd] {\n  margin-bottom: 10px;\n}\n.list-container .content-warp .box-card .header .tit[data-v-199649fd] {\n    display: inline-block;\n    margin: 0 10px;\n    vertical-align: middle;\n}\n.list-container .content-warp .box-card .item p[data-v-199649fd] {\n    margin: 7px 0;\n    font-size: 14px;\n}\n.list-container .content-warp .box-card .item p i[data-v-199649fd] {\n      display: inline-block;\n      margin: 0 5px;\n}\n.shift[data-v-199649fd] {\n  -webkit-transition-property: margin-left;\n  transition-property: margin-left;\n  -webkit-transition-duration: 1s;\n          transition-duration: 1s;\n}\n",""])},"8Z8N":function(t,n,e){"use strict";var i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"align-center no-data txt-grep"},[n("p",[n("svg-icon",{attrs:{"icon-class":"nodata"}})],1),this._v(" "),n("p",[this._v("暂无数据")])])},staticRenderFns:[]};var a=e("VU/8")({name:"nodata",data:function(){return{}},watch:{},methods:{}},i,!1,function(t){e("ADmv")},"data-v-fc03e3a0",null);n.a=a.exports},AATz:function(t,n,e){var i=e("uJG3");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("e17cc2fe",i,!0)},ADmv:function(t,n,e){var i=e("Arj8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("48af0540",i,!0)},ARoL:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("Dd8w"),a=e.n(i),s=e("lbHh"),o=e.n(s),r=e("//Fk"),c=e.n(r),l=e("8Z8N"),d=e("NYxO"),u=e("Ssqh"),f=e("TIfe"),p={name:"listone",props:{status:{type:Number,default:0}},components:{Nodata:l.a},computed:a()({},Object(d.b)(["masterid","location"])),data:function(){return{list:[],pageIndex:1,isMove:!0,wrapHeight:200,infiniteFlag:!1,fullscreenLoading:!1,listLoading:!0,orderStatus:this.status,hasRights:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.wrapHeight=document.body.clientHeight-150,"undefined"==Object(f.a)()&&(t.hasRights=!1),t.fetchData().then(function(n){n&&(t.list=n,t.gridNo=n[0].gridNo)})})},methods:{handleClick:function(t,n){console.log(t,n)},onTapDetail:function(t){this.$router.push({path:"/order/detail?orderNo="+t.transportNo+"&orderStatus=0"})},fetchData:function(){var t=this;return new c.a(function(n,e){t.listLoading=!0;var i={userId:Object(f.c)(),orderNo:"",pageSize:20,pageIndex:t.pageIndex};Object(u.c)(i).then(function(e){console.log(e),e.data?t.infiniteFlag=!0:t.infiniteFlag=!1,t.listLoading=!1,t.$emit("sumNum1",e.totalNum),n(e.data)}).catch(function(n){t.listLoading=!1})})},refresh:function(t){var n=this;setTimeout(function(){n.pageIndex=1,n.fetchData().then(function(t){n.list=[],t?(n.list=t,n.gridNo=t[0].gridNo):setTimeout(function(){n.$refs.my_scroller.finishPullToRefresh()})}),t&&t()},500)},infinite:function(t){var n=this;setTimeout(function(){n.list.length&&n.infiniteFlag?(n.pageIndex+=1,n.fetchData().then(function(t){if(t)for(var e=n,i=0;i<t.length;i++)e.list.push(t[i])}),t()):n.$refs.my_scroller&&n.$refs.my_scroller.finishInfinite(2)},500)},onTapDepart:function(){var t=this;this.$confirm("确定开始配送?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.fullscreenLoading=!0,t.departConfirm().then(function(){t.fullscreenLoading=!1,t.refresh(),t.$emit("changeTab","second"),t.$store.dispatch("ChangeTab","second")})})},departConfirm:function(){var t=this;return new c.a(function(n,e){var i={userId:Object(f.c)(),gridNo:t.gridNo,driver:Object(f.f)(),carNo:"undefined"==Object(f.a)()?"":Object(f.a)(),mobilePhone:Object(f.d)(),longitude:t.location.location.lng,latitude:t.location.location.lat};Object(u.b)(i).then(function(e){t.$message({type:"success",message:e.info}),n(e)}).catch(function(n){t.fullscreenLoading=!1})})}}},h={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"list-container"},[e("div",{staticClass:"content-warp",style:{height:t.wrapHeight+"px"}},[e("scroller",{ref:"my_scroller",class:{shift:t.isMove},staticStyle:{"margin-bottom":"40px"},attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[t._l(t.list,function(n,i){return t.list.length?e("el-card",{key:n.transportNo,staticClass:"box-card",nativeOn:{click:function(e){e.preventDefault(),t.onTapDetail(n)}}},[e("div",{staticClass:"clearfix header",attrs:{slot:"header"},slot:"header"},[e("span",[e("svg-icon",{attrs:{"icon-class":"car"}}),e("span",{staticClass:"tit"},[n.customerNo?e("span",[t._v(t._s(n.customerNo))]):t._e(),n.customerNo?t._e():e("span",[t._v(t._s(n.transportNo))])])],1),t._v(" "),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1),t._v(" "),e("div",{staticClass:"item"},[e("p",[e("i",{staticClass:"el-icon-location"}),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(n.address))])]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-goods"}),t._v("数量："+t._s(n.qty)+"件，总体积："+t._s(n.volume)+"方 重量："+t._s(n.weight)+"公斤")]),t._v(" "),e("p",[e("i",[e("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v("收货人："+t._s(n.consignee))]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-time"}),t._v("要求："+t._s(n.deliveryTime)+"送达")]),t._v(" "),e("div",{staticClass:"pull-right",staticStyle:{"margin-top":"-40px","font-size":"26px","margin-right":"15px"},on:{click:function(t){t.stopPropagation()}}},[n.mobilePhone?e("a",{attrs:{href:"tel:"+n.mobilePhone}},[e("i",{staticClass:"el-icon-phone-outline"})]):t._e()])])]):t._e()}),t._v(" "),t.list.length?t._e():e("div",[e("nodata")],1)],2)],1),t._v(" "),t.list.length&&t.hasRights?e("div",{staticClass:"footer-btn"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"width-100",attrs:{type:"primary"},on:{click:t.onTapDepart}},[t._v("开始配送")])],1):t._e()])},staticRenderFns:[]};var m=e("VU/8")(p,h,!1,function(t){e("GXE9")},"data-v-4d806680",null).exports,g={name:"listtwo",components:{Nodata:l.a},props:{status:{type:Number,default:0}},computed:a()({},Object(d.b)(["name","masterid"])),data:function(){return{list:[],pageIndex:1,isMove:!0,wrapHeight:200,infiniteFlag:!1,fullscreenLoading:!1,orderStatus:this.status}},mounted:function(){var t=this;this.$nextTick(function(){t.wrapHeight=document.body.clientHeight-100,t.fetchData().then(function(n){n&&(t.list=n,t.gridNo=n[0].gridNo)})})},methods:{handleClick:function(t,n){console.log(t,n)},onTapDetail:function(t){console.log("ddd"),this.$router.push({path:"/order/detail?orderNo="+t.transportNo+"&orderStatus=1"})},fetchData:function(){var t=this;return new c.a(function(n,e){var i={userId:Object(f.c)(),orderNo:"",status:t.orderStatus,pageSize:20,pageIndex:t.pageIndex};Object(u.c)(i).then(function(e){console.log(e),e.data?t.infiniteFlag=!0:t.infiniteFlag=!1,t.$emit("sumNum2",e.totalNum),n(e.data)})})},refresh:function(t){var n=this;setTimeout(function(){n.pageIndex=1,n.fetchData().then(function(t){n.list=[],t?n.list=t:setTimeout(function(){n.$refs.my_scroller.finishPullToRefresh()})}),t&&t()},500)},infinite:function(t){var n=this;setTimeout(function(){n.list.length&&n.infiniteFlag?(n.pageIndex+=1,n.fetchData().then(function(t){if(t)for(var e=n,i=0;i<t.length;i++)e.list.push(t[i])}),t()):n.$refs.my_scroller&&n.$refs.my_scroller.finishInfinite(2)},500)}}},v={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"list-container"},[e("div",{staticClass:"content-warp",style:{height:t.wrapHeight+"px"}},[e("scroller",{ref:"my_scroller",class:{shift:t.isMove},staticStyle:{"margin-bottom":"40px"},attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[t._l(t.list,function(n,i){return t.list.length?e("el-card",{key:n.transportNo,staticClass:"box-card",nativeOn:{click:function(e){e.preventDefault(),t.onTapDetail(n)}}},[e("div",{staticClass:"clearfix header",attrs:{slot:"header"},slot:"header"},[e("span",[e("svg-icon",{attrs:{"icon-class":"car"}}),e("span",{staticClass:"tit"},[n.customerNo?e("span",[t._v(t._s(n.customerNo))]):t._e(),n.customerNo?t._e():e("span",[t._v(t._s(n.transportNo))])])],1),t._v(" "),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1),t._v(" "),e("div",{staticClass:"item"},[e("p",[e("i",{staticClass:"el-icon-location"}),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(n.address))])]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-goods"}),t._v("数量："+t._s(n.qty)+"件，总体积："+t._s(n.volume)+"方 重量："+t._s(n.weight)+"公斤")]),t._v(" "),e("p",[e("i",[e("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v("收货人："+t._s(n.consignee))]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-time"}),t._v("要求："+t._s(n.deliveryTime)+"送达")]),t._v(" "),e("div",{staticClass:"pull-right",staticStyle:{"margin-top":"-40px","font-size":"26px","margin-right":"15px"},on:{click:function(t){t.stopPropagation()}}},[n.mobilePhone?e("a",{attrs:{href:"tel:"+n.mobilePhone}},[e("i",{staticClass:"el-icon-phone-outline"})]):t._e()])])]):t._e()}),t._v(" "),t.list.length?t._e():e("div",[e("nodata")],1)],2)],1)])},staticRenderFns:[]};var _=e("VU/8")(g,v,!1,function(t){e("YHil")},"data-v-56f36d50",null).exports,b={name:"listthree",components:{Nodata:l.a},props:{status:{type:Number,default:0}},computed:a()({},Object(d.b)(["name","masterid"])),data:function(){return{list:[],pageIndex:1,isMove:!0,wrapHeight:200,infiniteFlag:!1,fullscreenLoading:!1,orderStatus:this.status}},mounted:function(){var t=this;this.$nextTick(function(){t.wrapHeight=document.body.clientHeight-100,t.fetchData().then(function(n){n&&(t.list=n,t.gridNo=n[0].gridNo)})})},methods:{handleClick:function(t,n){console.log(t,n)},onTapDetail:function(t){console.log("ddd"),this.$router.push({path:"/order/detail?orderNo="+t.transportNo+"&orderStatus=2"})},refresh:function(t){var n=this;setTimeout(function(){n.pageIndex=1,n.fetchData().then(function(t){n.list=[],t?n.list=t:setTimeout(function(){n.$refs.my_scroller.finishPullToRefresh()})}),t&&t()},500)},infinite:function(t){var n=this;setTimeout(function(){n.list.length&&n.infiniteFlag?(n.pageIndex+=1,n.fetchData().then(function(t){if(t)for(var e=n,i=0;i<t.length;i++)e.list.push(t[i])}),t()):n.$refs.my_scroller&&n.$refs.my_scroller.finishInfinite(2)},500)},fetchData:function(){var t=this;return new c.a(function(n,e){var i={userId:Object(f.c)(),status:t.orderStatus,pageSize:20,pageIndex:t.pageIndex};Object(u.c)(i).then(function(e){e.data?t.infiniteFlag=!0:t.infiniteFlag=!1,t.$emit("sumNum3",e.totalNum),n(e.data)}).catch(function(n){t.fullscreenLoading=!1})})}}},x={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"list-container"},[e("div",{staticClass:"content-warp",style:{height:t.wrapHeight+"px"}},[e("scroller",{ref:"my_scroller",class:{shift:t.isMove},staticStyle:{"margin-bottom":"40px"},attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[t._l(t.list,function(n,i){return t.list.length?e("el-card",{key:n.transportNo,staticClass:"box-card",nativeOn:{click:function(e){e.preventDefault(),t.onTapDetail(n)}}},[e("div",{staticClass:"clearfix header",attrs:{slot:"header"},slot:"header"},[e("span",[e("svg-icon",{attrs:{"icon-class":"car"}}),e("span",{staticClass:"tit"},[n.customerNo?e("span",[t._v(t._s(n.customerNo))]):t._e(),n.customerNo?t._e():e("span",[t._v(t._s(n.transportNo))])])],1),t._v(" "),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}})],1),t._v(" "),e("div",{staticClass:"item"},[e("p",[e("i",{staticClass:"el-icon-location"}),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(n.address))])]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-goods"}),t._v("数量："+t._s(n.qty)+"件，总体积："+t._s(n.volume)+"方 重量："+t._s(n.weight)+"公斤")]),t._v(" "),e("p",[e("i",[e("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v("收货人："+t._s(n.consignee))]),t._v(" "),e("p",[e("i",{staticClass:"el-icon-time"}),t._v("要求："+t._s(n.deliveryTime)+"送达")]),t._v(" "),e("div",{staticClass:"pull-right",staticStyle:{"margin-top":"-40px","font-size":"26px","margin-right":"15px"},on:{click:function(t){t.stopPropagation()}}},[n.mobilePhone?e("a",{attrs:{href:"tel:"+n.mobilePhone}},[e("i",{staticClass:"el-icon-phone-outline"})]):t._e()])])]):t._e()}),t._v(" "),t.list.length?t._e():e("div",[e("nodata")],1)],2)],1)])},staticRenderFns:[]};var N={name:"dashboard",components:{Listone:m,Listtwo:_,Listthree:e("VU/8")(b,x,!1,function(t){e("kzQC")},"data-v-199649fd",null).exports},computed:a()({},Object(d.b)(["name","roles"])),mounted:function(){var t=this;this.$nextTick(function(){"false"==Object(f.b)()&&(t.hasRights=!1)})},watch:{activeName:function(t){console.log(t),this.$store.dispatch("ChangeTab",t),this.$refs[t].refresh()}},data:function(){return{activeName:o.a.get("tabNum")?o.a.get("tabNum"):this.$store.state.app.tabNum,isCloseTip:!0,num1:"0",num2:"0",num3:"0",hasRights:!0}},methods:{handleClick:function(t,n){console.log(t,n)},handleClose:function(){},getTabNum:function(t){this.activeName=t},getNum1:function(t){this.num1=t},getNum2:function(t){this.num2=t},getNum3:function(t){this.num3=t}}},y={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"tip-wrap"},[t.isCloseTip&&!t.hasRights?e("el-tag",{attrs:{type:"warning width-100",closable:"","disable-transitions":!1},on:{close:function(n){t.isCloseTip=!1}}},[e("span",{staticClass:"text"},[t._v("信息不完整，请完善司机信息！")])]):t._e()],1),t._v(" "),e("div",{staticClass:"tabs-wrap"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(n){t.activeName=n},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"待装车("+t.num1+")",name:"first"}},[e("listone",{ref:"first",attrs:{status:0},on:{sumNum1:t.getNum1,changeTab:t.getTabNum}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"配送中("+t.num2+")",name:"second"}},[e("listtwo",{ref:"second",attrs:{status:1},on:{sumNum2:t.getNum2}})],1),t._v(" "),e("el-tab-pane",{attrs:{label:"已送达("+t.num3+")",name:"third"}},[e("listthree",{ref:"third",attrs:{status:2},on:{sumNum3:t.getNum3}})],1)],1)],1)])},staticRenderFns:[]};var C=e("VU/8")(N,y,!1,function(t){e("AATz")},"data-v-727f377e",null);n.default=C.exports},Arj8:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.no-data p[data-v-fc03e3a0] {\n  line-height: 2;\n}\n.no-data p .svg-icon[data-v-fc03e3a0] {\n    margin-right: 0 !important;\n    width: 3em !important;\n    height: 3em !important;\n}\n",""])},GXE9:function(t,n,e){var i=e("QN+L");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("1bfc5c87",i,!0)},"QN+L":function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.list-container .content-warp .box-card[data-v-4d806680] {\n  margin-bottom: 10px;\n}\n.list-container .content-warp .box-card .header .tit[data-v-4d806680] {\n    display: inline-block;\n    margin: 0 10px;\n    vertical-align: middle;\n}\n.list-container .content-warp .box-card .item p[data-v-4d806680] {\n    margin: 7px 0;\n    font-size: 14px;\n}\n.list-container .content-warp .box-card .item p i[data-v-4d806680] {\n      display: inline-block;\n      margin: 0 5px;\n}\n.shift[data-v-4d806680] {\n  -webkit-transition-property: margin-left;\n  transition-property: margin-left;\n  -webkit-transition-duration: 1s;\n          transition-duration: 1s;\n}\n",""])},YHil:function(t,n,e){var i=e("hD+G");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("a0c27c2c",i,!0)},"hD+G":function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.list-container .content-warp .box-card[data-v-56f36d50] {\n  margin-bottom: 10px;\n}\n.list-container .content-warp .box-card .header .tit[data-v-56f36d50] {\n    display: inline-block;\n    margin: 0 10px;\n    vertical-align: middle;\n}\n.list-container .content-warp .box-card .item p[data-v-56f36d50] {\n    margin: 7px 0;\n    font-size: 14px;\n}\n.list-container .content-warp .box-card .item p i[data-v-56f36d50] {\n      display: inline-block;\n      margin: 0 5px;\n}\n.shift[data-v-56f36d50] {\n  -webkit-transition-property: margin-left;\n  transition-property: margin-left;\n  -webkit-transition-duration: 1s;\n          transition-duration: 1s;\n}\n",""])},kzQC:function(t,n,e){var i=e("0IsO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("436fe5b2",i,!0)},uJG3:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.dashboard-container[data-v-727f377e] {\n  margin: 0px;\n}\n.dashboard-container .tip-wrap .text[data-v-727f377e] {\n    display: inline-block;\n    margin-right: 10px;\n}\n.dashboard-container .tabs-wrap[data-v-727f377e] {\n    margin: 10px;\n}\n",""])}});